!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).LimeDate={})}(this,function(e){"use strict";function u(e){return Number.isInteger(e)}function g(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)}function r(e){return"Date"===Object.prototype.toString.call(e).slice(8,-1)}function o(e){return null==e||""==e||"Object"===Object.prototype.toString.call(e).slice(8,-1)&&0==Object.keys(e).length||"Array"===Object.prototype.toString.call(e).slice(8,-1)&&0==e.length}function i(e){return null==e||""==e}function l(e,t=10){return Number.parseInt(e,t)}function t(e){return e%100!=0&&e%4==0||e%400==0}function a(){return new Date}function n(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();return[n,r,a].map(s).join(t)}function f(e=new Date,t="en"){if("en"==t)return new Array(7,1,2,3,4,5,6)[e.getDay()];if("zh"==t)return new Array("周日","周一","周二","周三","周四","周五","周六")[e.getDay()];throw new Error("Invalid lang!")}function h(e=new Date,t=1){return e.setDate(e.getDate()+t),e}function c(e,t="yyyy-MM-dd"){if(!i(e)){u(e=g(e)?D(e):e)&&13==String(e).length&&(e=new Date(e));var n,r={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},a={"M+":(e=u(e)&&10==String(e).length?new Date(1e3*e):e).getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"E+":r[e.getDay()],"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"星期":"周":"")+r[e.getDay()+""])),/(q+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?"第":"")+{1:"一",2:"二",3:"三",4:"四"}[Math.floor((e.getMonth()+3)/3)+""]+"季度")),a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return t}}function D(e){if(!i(e))return g(e)?new Date(e.replace(/-/g,"/")):u(e)&&13==String(e).length?new Date(e):u(e)&&10==String(e).length?new Date(1e3*e):void 0}function s(e){return(e=e.toString())[1]?e:"0"+e}e.addDate=h,e.addHours=function(e=new Date,t=1){return e.setHours(e.getHours()+t),e},e.addMinutes=function(e=new Date,t=1){return e.setMinutes(e.getMinutes()+t),e},e.addMonth=function(e=new Date,t=1){return e.setMonth(e.getMonth()+t),e},e.addSeconds=function(e=new Date,t=1){return e.setSeconds(e.getSeconds()+t),e},e.addYear=function(e=new Date,t=1){return e.setFullYear(e.getFullYear()+t),e},e.betweenDays=function(e,t){if(!o(e)&&!o(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[];for(;0<=t-e;){var r=e.getFullYear(),a=s(e.getMonth()+1),u=s(e.getDate());n.push(r+"-"+a+"-"+u),e.setDate(e.getDate()+1)}return n}(e,t)},e.betweenMonths=function(e,t){if(!o(e)&&!o(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[],r=new Date,a=new Date;r.setFullYear(e.getFullYear(),e.getMonth()+1),a.setFullYear(t.getFullYear(),t.getMonth()+1);let u=r,g="";for(;u<=a;){var i=u.getMonth();g=0===i?u.getFullYear()-1+"-12":u.getFullYear()+"-"+s(i),n.push(g),u.setMonth(i+1)}return n}(e,t)},e.betweenYears=function(e,t){if(!o(e)&&!o(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[];for(;0<=t-e;){var r=e.getFullYear();n.push(r),e.setFullYear(e.getFullYear()+1)}return n}(e,t)},e.compareDate=function(e,t){if(!o(e)&&!o(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t),t<e},e.diffDay=function(e,t){if(o(e)||o(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/864e5)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/864e5)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/86400))),0<=n?Math.abs(n):n},e.diffMonth=function(e,t){if(o(e)||o(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/2592e6)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/2592e6)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/2592e3))),0<=n?Math.abs(n):n},e.diffWeek=function(e,t){if(o(e)||o(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/6048e5)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/6048e5)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/604800))),0<=n?Math.abs(n):n},e.diffYear=function(e,t){if(o(e)||o(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/31104e6)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/1306368e5)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/1296e3))),0<=n?Math.abs(n):n},e.formatDate=c,e.getAge=function(e){if(o(e))return 0;let t=0;var n=e.split("-"),r=Number(n[0]),a=Number(n[1]),u=Number(n[2]);let g=new Date;var i=g.getFullYear(),e=g.getMonth()+1,n=g.getDate();return 0<(r=i-r)&&(t=e-a<=0&&n-u<0?r-1:r),t},e.getChineseZodiac=function(t){if(!o(t)){var n=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"];let e=D(t);t=e.getFullYear();return t<1900?"未知":n[(t-1900)%n.length]}},e.getDate=n,e.getDateTime=function(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),u=e.getHours(),g=e.getMinutes(),i=e.getSeconds();return[n,r,a].map(s).join(t)+" "+[u,g,i].map(s).join(":")},e.getDayOfMonth=function(e=new Date){return e.getDate()},e.getDayOfWeek=f,e.getDayOfYear=function(e=new Date){return Math.ceil((e-new Date(e.getFullYear().toString()))/864e5)+1},e.getFirstDayOfMonth=function(e=new Date){return e.setDate(1),c(e)},e.getFirstDayOfWeek=function(e=new Date){var t=f(e);return e.setDate(e.getDate()-t+1),c(e)},e.getFullDayOfMonth=function(e=new Date){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},e.getFullDayOfYear=function(e=new Date){return t(e.getFullYear())?366:365},e.getLastDayOfMonth=function(e=new Date){return c(new Date(e.getFullYear(),e.getMonth()+1,0))},e.getLastDayOfWeek=function(e=new Date){var t=f(e);return e.setDate(e.getDate()+(7-t)),c(e)},e.getNow=a,e.getOverTime=function(e){if(i(e))return"--";"string"==typeof e&&(e=D(e));var t=new Date,n=e.getTime()-t.getTime(),r=0,a=0,e=0,t=0;return 0<=n&&(r=Math.floor(n/1e3/3600/24),a=Math.floor(n/1e3/60/60%24),e=Math.floor(n/1e3/60%60),t=Math.floor(n/1e3%60)),r+`天 ${a}小时 ${e}分钟 ${t}秒`},e.getPastTime=function(e,t="zh"){if(i(e))return"--";var n={zh:{year:"年前",month:"个月前",day:"天前",hour:"小时前",minute:"分钟前",just:"刚刚"},en:{year:" year ago",month:" month ago",day:" day ago",hour:" hour ago",minute:" minute ago",just:" just"}},r=(e="string"==typeof e?D(e):e).getTime(),a=l((g=Date.now()-r)/31104e6),u=l(g/2592e6),e=l(g/864e5),r=l(g/36e5),g=l(g/6e4);return a?a+n[t].year:u?u+n[t].month:e?e+n[t].day:r?r+n[t].hour:g?g+n[t].minute:n[t].just},e.getTimestamp=function(e=new Date){return e.getTime()},e.getUnixTimestamp=function(e=new Date){return Math.round(e/1e3)},e.getWeekOfMonth=function(e=new Date){return Math.ceil((e.getDate()+6-f(e))/7)},e.getWeekOfYear=function(e=new Date){var t=f(n=new Date(e.getFullYear(),0,1)),n=Math.round((e-n)/864e5);return Math.ceil((n+t)/7)},e.getZodiac=function(t){if(!o(t)){var n=["摩羯座","水瓶座","双鱼座","白羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","摩羯座"];let e=D(t);t=e.getMonth()+1;return e.getDate()<[20,19,21,20,21,22,23,23,23,24,23,22][t-1]?n[t-1]:n[t]}},e.isAM=function(){return(new Date).getHours()<12},e.isLeapYear=t,e.isPM=function(){return 12<=(new Date).getHours()},e.isSameDay=function(t,n){return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())},e.isSameMonth=function(t,n){return["getFullYear","getMonth"].every(e=>t[e]()===n[e]())},e.isSameWeek=function(e,t){return e=e.getTime()/864e5,t=t.getTime()/864e5,l((4+e)/7)==l((4+t)/7)},e.isSameYear=function(t,n){return["getFullYear"].every(e=>t[e]()===n[e]())},e.isToday=function(n){if(!i(n)){g(n)&&(n=D(n));let t=a();return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())}},e.isWeekend=function(){var e=f();return 6==e||7==e},e.isWorkday=function(){var e=f();return 6!=e&&7!=e},e.nextMonth=function(){return c(h(new Date,30))},e.nextWeek=function(){return c(h(new Date,7))},e.nextYear=function(){return c(h(new Date,365))},e.parseDate=D,e.prevMonth=function(){return c(h(new Date,-30))},e.prevWeek=function(){return c(h(new Date,-7))},e.prevYear=function(){return c(h(new Date,-365))},e.today=function(){return n()},e.yesterday=function(){return c(h(new Date,-1))},Object.defineProperty(e,"__esModule",{value:!0})});
