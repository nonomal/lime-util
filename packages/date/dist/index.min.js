!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).LimeDate=t()}(this,function(){"use strict";function u(e){return Number.isInteger(e)}function g(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)}function r(e){return"Date"===Object.prototype.toString.call(e).slice(8,-1)}function o(e){return null==e||""==e}function i(e){return o(e)||!(Object.keys(val)||val).length}function l(e,t=10){return Number.parseInt(e,t)}function t(e){return e%100!=0&&e%4==0||e%400==0}function e(){return new Date}function n(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();return[n,r,a].map(c).join(t)}function a(e=new Date){return new Array(7,1,2,3,4,5,6)[e.getDay()]}function f(e=new Date,t=1){return e.setDate(e.getDate()+t),e}function h(e,t="yyyy-MM-dd"){if(!o(e)){u(e=g(e)?D(e):e)&&13==String(e).length&&(e=new Date(e));var n,r={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},a={"M+":(e=u(e)&&10==String(e).length?new Date(1e3*e):e).getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"E+":r[e.getDay()],"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"星期":"周":"")+r[e.getDay()])),/(q+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?"第":"")+{1:"一",2:"二",3:"三",4:"四"}[Math.floor((e.getMonth()+3)/3)]+"季度")),a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return t}}function D(e){if(!o(e))return g(e)?new Date(e.replace(/-/g,"/")):u(e)&&13==String(e).length?new Date(e):u(e)&&10==String(e).length?new Date(1e3*e):void 0}function c(e){return(e=e.toString())[1]?e:"0"+e}return{loadedTest:function(){console.log("lime-date loaded successfully!")},...Object.freeze({__proto__:null,isToday:function(n){if(!o(n)){g(n)&&(n=D(n));let t=e();return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())}},isWorkday:function(){var e=a();return 6!=e&&7!=e},isWeekend:function(){var e=a();return 6==e||7==e},isLeapYear:t,isAM:function(){return(new Date).getHours()<12},isPM:function(){return 12<=(new Date).getHours()},isSameDay:function(t,n){return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())},isSameWeek:function(e,t){return e=e.getTime()/864e5,t=t.getTime()/864e5,l((4+e)/7)==l((4+t)/7)},isSameMonth:function(t,n){return["getFullYear","getMonth"].every(e=>t[e]()===n[e]())},isSameYear:function(t,n){return["getFullYear"].every(e=>t[e]()===n[e]())},today:function(){return n()},yesterday:function(){return h(f(new Date,-1))},tomorrow:function(){return h(f(new Date,1))},prevWeek:function(){return h(f(new Date,-7))},nextWeek:function(){return h(f(new Date,7))},prevMonth:function(){return h(f(new Date,-30))},nextMonth:function(){return h(f(new Date,30))},prevYear:function(){return h(f(new Date,-365))},nextYear:function(){return h(f(new Date,365))},getNow:e,getDate:n,getDateTime:function(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),u=e.getHours(),g=e.getMinutes(),o=e.getSeconds();return[n,r,a].map(c).join(t)+" "+[u,g,o].map(c).join(":")},getTimestamp:function(e=new Date){return e.getTime()},getUnixTimestamp:function(e=new Date){return Math.round(e/1e3)},getDay:function(e=new Date){return e.getDate()},getMonth:function(e=new Date){return e.getMonth()+1},getYear:function(e=new Date){return e.getFullYear()},getYearMonth:function(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1;return[n,r].map(c).join(t)},getWeek:function(e=new Date,t="EE"){var n={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};if("E"==t)return n[e.getDay()];if("EE"==t)return"周"+n[e.getDay()];if("EEE"==t)return"星期"+n[e.getDay()];throw new Error("Invalid week format!")},getQuarter:function(e=new Date,t="q"){var n={1:"一",2:"二",3:"三",4:"四"};if("q"==t)return n[Math.floor((e.getMonth()+3)/3)]+"季度";if("qq"==t)return"第"+n[Math.floor((e.getMonth()+3)/3)]+"季度";throw new Error("Invalid quarter format!")},getDayOfWeek:a,getDayOfMonth:function(e=new Date){return e.getDate()},getDayOfYear:function(e=new Date){return Math.ceil((e-new Date(e.getFullYear().toString()))/864e5)+1},getWeekOfMonth:function(e=new Date){return Math.ceil((e.getDate()+6-a(e))/7)},getWeekOfYear:function(e=new Date){var t=a(n=new Date(e.getFullYear(),0,1)),n=Math.round((e-n)/864e5);return Math.ceil((n+t)/7)},getFirstDayOfWeek:function(e=new Date){var t=a(e);return e.setDate(e.getDate()-t+1),h(e)},getLastDayOfWeek:function(e=new Date){var t=a(e);return e.setDate(e.getDate()+(7-t)),h(e)},getFirstDayOfMonth:function(e=new Date){return e.setDate(1),h(e)},getLastDayOfMonth:function(e=new Date){return h(new Date(e.getFullYear(),e.getMonth()+1,0))},getFullDayOfMonth:function(e=new Date){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},getFullDayOfYear:function(e=new Date){return t(e.getFullYear())?366:365},getPastTime:function(e,t="zh"){if(o(e))return"--";var n={zh:{year:"年前",month:"个月前",day:"天前",hour:"小时前",minute:"分钟前",just:"刚刚"},en:{year:" year ago",month:" month ago",day:" day ago",hour:" hour ago",minute:" minute ago",just:" just"}},r=(e="string"==typeof e?D(e):e).getTime(),a=l((g=Date.now()-r)/31104e6),u=l(g/2592e6),e=l(g/864e5),r=l(g/36e5),g=l(g/6e4);return a?a+n[t].year:u?u+n[t].month:e?e+n[t].day:r?r+n[t].hour:g?g+n[t].minute:n[t].just},getOverTime:function(e){if(o(e))return"--";"string"==typeof e&&(e=D(e));var t=new Date,n=e.getTime()-t.getTime(),r=0,a=0,e=0,t=0;return 0<=n&&(r=Math.floor(n/1e3/3600/24),a=Math.floor(n/1e3/60/60%24),e=Math.floor(n/1e3/60%60),t=Math.floor(n/1e3%60)),r+`天 ${a}小时 ${e}分钟 ${t}秒`},addYear:function(e=new Date,t=1){return e.setFullYear(e.getFullYear()+t),e},addMonth:function(e=new Date,t=1){return e.setMonth(e.getMonth()+t),e},addDate:f,addHours:function(e=new Date,t=1){return e.setHours(e.getHours()+t),e},addMinutes:function(e=new Date,t=1){return e.setMinutes(e.getMinutes()+t),e},addSeconds:function(e=new Date,t=1){return e.setSeconds(e.getSeconds()+t),e},betweenDays:function(e,t){if(!i(e)&&!i(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[];for(;0<=t-e;){var r=e.getFullYear(),a=c(e.getMonth()+1),u=c(e.getDate());n.push(r+"-"+a+"-"+u),e.setDate(e.getDate()+1)}return n}(e,t)},betweenMonths:function(e,t){if(!i(e)&&!i(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[],r=new Date,a=new Date;r.setFullYear(e.getFullYear(),e.getMonth()+1),a.setFullYear(t.getFullYear(),t.getMonth()+1);let u=r,g="";for(;u<=a;){var o=u.getMonth();g=0===o?u.getFullYear()-1+"-12":u.getFullYear()+"-"+c(o),n.push(g),u.setMonth(o+1)}return n}(e,t)},betweenYears:function(e,t){if(!i(e)&&!i(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[];for(;0<=t-e;){var r=e.getFullYear();n.push(r),e.setFullYear(e.getFullYear()+1)}return n}(e,t)},compareDate:function(e,t){if(!i(e)&&!i(t))return g(e)&&g(t)&&(e=D(e),t=D(t)),u(e)&&u(t),t<e},diffDay:function(e,t){if(i(e)||i(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/864e5)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/864e5)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/86400))),0<=n?Math.abs(n):n},diffWeek:function(e,t){if(i(e)||i(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/6048e5)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/6048e5)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/604800))),0<=n?Math.abs(n):n},diffMonth:function(e,t){if(i(e)||i(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/2592e6)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/2592e6)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/2592e3))),0<=n?Math.abs(n):n},diffYear:function(e,t){if(i(e)||i(t))return 0;let n=0;return g(e)&&g(t)&&(e=D(e),t=D(t)),r(e)&&r(t)&&(n=l((t-e)/31104e6)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=l((t-e)/1306368e5)),10==String(e).length&&10==String(t).length&&(n=l((t-e)/1296e3))),0<=n?Math.abs(n):n},formatDate:h,parseDate:D,getAge:function(e){if(i(e))return 0;let t=0;var n=e.split("-"),r=Number(n[0]),a=Number(n[1]),u=Number(n[2]);let g=new Date;var o=g.getFullYear(),e=g.getMonth()+1,n=g.getDate();return 0<(r=o-r)&&(t=e-a<=0&&n-u<0?r-1:r),t},getZodiac:function(t){if(!i(t)){var n=["摩羯座","水瓶座","双鱼座","白羊座","金牛座","双子座","巨蟹座","狮子座","处女座","天秤座","天蝎座","射手座","摩羯座"];let e=D(t);t=e.getMonth()+1;return e.getDate()<[20,19,21,20,21,22,23,23,23,24,23,22][t-1]?n[t-1]:n[t]}},getChineseZodiac:function(t){if(!i(t)){var n=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"];let e=D(t);t=e.getFullYear();return t<1900?"未知":n[(t-1900)%n.length]}}})}});
