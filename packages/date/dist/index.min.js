!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).LimeDate=t()}(this,function(){"use strict";function u(e){return Number.isInteger(e)}function o(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)}function r(e){return"Date"===Object.prototype.toString.call(e).slice(8,-1)}function g(e){return null==e||""==e}function a(e){return g(e)||!(Object.keys(e)||e).length}function i(e,t=10){return Number.parseInt(e,t)}function t(e){return e%100!=0&&e%4==0||e%400==0}function e(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate();return[n,r,a].map(c).join(t)}function n(e=new Date){return e.getDate()}function l(e=new Date){return new Array(7,1,2,3,4,5,6)[e.getDay()]}function f(e=new Date){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function D(e=new Date,t=1){return e.setDate(e.getDate()+t),e}function s(e,t="yyyy-MM-dd"){if(!g(e)){u(e=o(e)?h(e):e)&&13==String(e).length&&(e=new Date(e));var n,r={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"},a={"M+":(e=u(e)&&10==String(e).length?new Date(1e3*e):e).getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"E+":r[e.getDay()],"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?2<RegExp.$1.length?"星期":"周":"")+r[e.getDay()])),/(q+)/.test(t)&&(t=t.replace(RegExp.$1,(1<RegExp.$1.length?"第":"")+{1:"一",2:"二",3:"三",4:"四"}[Math.floor((e.getMonth()+3)/3)]+"季度")),a)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?a[n]:("00"+a[n]).substr((""+a[n]).length)));return t}}function h(e){if(!g(e))return o(e)?new Date(e.replace(/-/g,"/")):u(e)&&13==String(e).length?new Date(e):u(e)&&10==String(e).length?new Date(1e3*e):void 0}function c(e){return(e=e.toString())[1]?e:"0"+e}return{loadedTest:function(){console.log("lime-date loaded successfully!")},...Object.freeze({__proto__:null,today:function(){return e()},yesterday:function(){return s(D(new Date,-1))},tomorrow:function(){return s(D(new Date,1))},prevWeek:function(){return s(D(new Date,-7))},nextWeek:function(){return s(D(new Date,7))},prevMonth:function(){return s(D(new Date,-30))},nextMonth:function(){return s(D(new Date,30))},prevYear:function(){return s(D(new Date,-365))},nextYear:function(){return s(D(new Date,365))},isAM:function(){return(new Date).getHours()<12},isPM:function(){return 12<=(new Date).getHours()},isToday:function(n){if(!g(n)){o(n)&&(n=h(n));let t=new Date;return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())}},isYesterday:function(e){return e=e.getTime(),1===i((Date.now()-e)/864e5)},isBeforeYesterday:function(e){return e=e.getTime(),2===i((Date.now()-e)/864e5)},isWorkday:function(){var e=l();return 6!=e&&7!=e},isWeekend:function(){var e=l();return 6==e||7==e},isLeapYear:t,isSameDay:function(t,n){return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())},isSameWeek:function(e,t){return e=e.getTime()/864e5,t=t.getTime()/864e5,i((4+e)/7)==i((4+t)/7)},isSameMonth:function(t,n){return["getFullYear","getMonth"].every(e=>t[e]()===n[e]())},isSameYear:function(t,n){return["getFullYear"].every(e=>t[e]()===n[e]())},isFirstDayOfMonth:function(){return 1==n()},isLastDayOfMonth:function(){return n()==f()},getNow:function(){return new Date},getDate:e,getDateTime:function(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),u=e.getHours(),o=e.getMinutes(),g=e.getSeconds();return[n,r,a].map(c).join(t)+" "+[u,o,g].map(c).join(":")},getTimestamp:function(e=new Date){return e.getTime()},getUnixTimestamp:function(e=new Date){return Math.round(e/1e3)},getDay:n,getMonth:function(e=new Date){return e.getMonth()+1},getYear:function(e=new Date){return e.getFullYear()},getYearMonth:function(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1;return[n,r].map(c).join(t)},getWeek:function(e=new Date,t="EE"){var n={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};if("E"==t)return n[e.getDay()];if("EE"==t)return"周"+n[e.getDay()];if("EEE"==t)return"星期"+n[e.getDay()];throw new Error("Invalid week format!")},getQuarter:function(e=new Date,t="q"){var n={1:"一",2:"二",3:"三",4:"四"};if("q"==t)return n[Math.floor((e.getMonth()+3)/3)]+"季度";if("qq"==t)return"第"+n[Math.floor((e.getMonth()+3)/3)]+"季度";throw new Error("Invalid quarter format!")},getDayOfWeek:l,getDayOfMonth:function(e=new Date){return e.getDate()},getDayOfYear:function(e=new Date){return Math.ceil((e-new Date(e.getFullYear().toString()))/864e5)+1},getWeekOfMonth:function(e=new Date){return Math.ceil((e.getDate()+6-l(e))/7)},getWeekOfYear:function(e=new Date){var t=l(n=new Date(e.getFullYear(),0,1)),n=Math.round((e-n)/864e5);return Math.ceil((n+t)/7)},getFirstDayOfWeek:function(e=new Date){var t=l(e);return e.setDate(e.getDate()-t+1),s(e)},getLastDayOfWeek:function(e=new Date){var t=l(e);return e.setDate(e.getDate()+(7-t)),s(e)},getFirstDayOfMonth:function(e=new Date){return e.setDate(1),s(e)},getLastDayOfMonth:function(e=new Date){return s(new Date(e.getFullYear(),e.getMonth()+1,0))},getFullDayOfMonth:f,getFullDayOfYear:function(e=new Date){return t(e.getFullYear())?366:365},getPastTime:function(e,t="zh"){if(g(e))return"--";var n={zh:{year:"年前",month:"个月前",day:"天前",beforeYestoday:"前天",yestoday:"昨天",today:"今天",hour:"小时前",minute:"分钟前",just:"刚刚"},en:{year:" year ago",month:" month ago",day:" day ago",beforeYestoday:"before yestoday",yestoday:" yestoday",today:" today",hour:" hour ago",minute:" minute ago",just:" just"}},r=(e="string"==typeof e?h(e):e).getTime(),a=i((o=Date.now()-r)/31104e6),u=i(o/2592e6),e=i(o/864e5),r=i(o/36e5),o=i(o/6e4);return a?a+n[t].year:u?u+n[t].month:e?1===e?n[t].yestoday:2===e?n[t].beforeYestoday:e+n[t].day:r?12<r?n[t].today:r+n[t].hour:o?o+n[t].minute:n[t].just},getOverTime:function(e){if(g(e))return"--";"string"==typeof e&&(e=h(e));var t=new Date,n=e.getTime()-t.getTime(),r=0,a=0,e=0,t=0;return 0<=n&&(r=Math.floor(n/1e3/3600/24),a=Math.floor(n/1e3/60/60%24),e=Math.floor(n/1e3/60%60),t=Math.floor(n/1e3%60)),r+`天 ${a}小时 ${e}分钟 ${t}秒`},addYear:function(e=new Date,t=1){return e.setFullYear(e.getFullYear()+t),e},addMonth:function(e=new Date,t=1){return e.setMonth(e.getMonth()+t),e},addDate:D,addHours:function(e=new Date,t=1){return e.setHours(e.getHours()+t),e},addMinutes:function(e=new Date,t=1){return e.setMinutes(e.getMinutes()+t),e},addSeconds:function(e=new Date,t=1){return e.setSeconds(e.getSeconds()+t),e},diffDay:function(e,t){if(a(e)||a(t))return 0;let n=0;return o(e)&&o(t)&&(e=h(e),t=h(t)),r(e)&&r(t)&&(n=i((t-e)/864e5)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=i((t-e)/864e5)),10==String(e).length&&10==String(t).length&&(n=i((t-e)/86400))),0<=n?Math.abs(n):n},diffWeek:function(e,t){if(a(e)||a(t))return 0;let n=0;return o(e)&&o(t)&&(e=h(e),t=h(t)),r(e)&&r(t)&&(n=i((t-e)/6048e5)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=i((t-e)/6048e5)),10==String(e).length&&10==String(t).length&&(n=i((t-e)/604800))),0<=n?Math.abs(n):n},diffMonth:function(e,t){if(a(e)||a(t))return 0;let n=0;return o(e)&&o(t)&&(e=h(e),t=h(t)),r(e)&&r(t)&&(n=i((t-e)/2592e6)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=i((t-e)/2592e6)),10==String(e).length&&10==String(t).length&&(n=i((t-e)/2592e3))),0<=n?Math.abs(n):n},diffYear:function(e,t){if(a(e)||a(t))return 0;let n=0;return o(e)&&o(t)&&(e=h(e),t=h(t)),r(e)&&r(t)&&(n=i((t-e)/31104e6)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(n=i((t-e)/1306368e5)),10==String(e).length&&10==String(t).length&&(n=i((t-e)/1296e3))),0<=n?Math.abs(n):n},betweenDays:function(e,t){if(!a(e)&&!a(t))return o(e)&&o(t)&&(e=h(e),t=h(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[];for(;0<=t-e;){var r=e.getFullYear(),a=c(e.getMonth()+1),u=c(e.getDate());n.push(r+"-"+a+"-"+u),e.setDate(e.getDate()+1)}return n}(e,t)},betweenMonths:function(e,t){if(!a(e)&&!a(t))return o(e)&&o(t)&&(e=h(e),t=h(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[],r=new Date,a=new Date;r.setFullYear(e.getFullYear(),e.getMonth()+1),a.setFullYear(t.getFullYear(),t.getMonth()+1);let u=r,o="";for(;u<=a;){var g=u.getMonth();o=0===g?u.getFullYear()-1+"-12":u.getFullYear()+"-"+c(g),n.push(o),u.setMonth(g+1)}return n}(e,t)},betweenYears:function(e,t){if(!a(e)&&!a(t))return o(e)&&o(t)&&(e=h(e),t=h(t)),u(e)&&u(t)&&(13==String(e).length&&13==String(t).length&&(e=new Date(e),t=new Date(t)),10==String(e).length&&10==String(t).length&&(e=new Date(1e3*e),t=new Date(1e3*t))),function(e,t){let n=[];for(;0<=t-e;){var r=e.getFullYear();n.push(r),e.setFullYear(e.getFullYear()+1)}return n}(e,t)},compareDate:function(e,t){if(!a(e)&&!a(t))return o(e)&&o(t)&&(e=h(e),t=h(t)),u(e)&&u(t),t<e},formatDate:s,parseDate:h})}});
