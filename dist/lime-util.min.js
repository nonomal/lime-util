!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).LimeUtil=t()}(this,function(){"use strict";function i(e){return i(e)||!e&&0!==e}function t(e){return"Array"===Object.prototype.toString.call(e).slice(8,-1)}function n(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)}function c(e){return null==e||""==e||n(e)&&0==Object.keys(e).length||t(e)&&0==e.length}function a(e){return null==e||""==e}var e=Object.freeze({__proto__:null,isNaN:i,isInteger:function(e){return Number.isInteger(e)},isDecimal:function(e){return 0<String(e).indexOf(".")},isNumber:function(e){return"Number"===Object.prototype.toString.call(e).slice(8,-1)},isString:function(e){return"String"===Object.prototype.toString.call(e).slice(8,-1)},isArray:t,isObject:n,isBoolean:function(e){return"Boolean"===Object.prototype.toString.call(e).slice(8,-1)},isDate:function(e){return"Date"===Object.prototype.toString.call(e).slice(8,-1)},isFunction:function(e){return"Function"===Object.prototype.toString.call(e).slice(8,-1)},isSymbol:function(e){return"Symbol"===Object.prototype.toString.call(e).slice(8,-1)},isRegExp:function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},isError:function(e){return"Error"===Object.prototype.toString.call(e).slice(8,-1)},isPromise:function(e){return"Promise"===Object.prototype.toString.call(e).slice(8,-1)},isChinese:function(e){return/^[\u4E00-\u9FA5]+$/.test(e)},isEmpty:c,isNull:a,isBlank:function(e){return null==e||/^\s*$/.test(e)},isUndefined:function(e){return null==e},equals:function(e,t){return Object.is(e,t)},equalsIgnoreCase:function(e,t){return Object.is(e.toLowerCase(),t.toLowerCase())}});var r=Object.freeze({__proto__:null,trim:function(e){if(!c(e))return e.replace(/(^\s*)|(\s*$)/g,"")},trimStart:function(e){if(!c(e))return e.replace(/(^\s*)/g,"")},trimEnd:function(e){if(!c(e))return e.replace(/(\s*$)/g,"")},trimAll:function(e){if(!c(e))return e.replace(/\s+/g,"")},replaceAll:function(e,t,n="-"){if(!c(e))return e.replace(new RegExp(t,"gm"),n)},isInString:function(e,t){if(!isNull(e))return t.includes(e)},getIndexInString:function(e,t){if(!c(e))return array.indexOf(e)},zeroStart:function(t,n=2){if(!c(t)){let e=t.toString().length;for(;e<n;)t="0"+t,e++;return t}},zeroEnd:function(t,n=2){if(!c(t)){let e=t.toString().length;for(;e<n;)t+="0",e++;return t}}});var o=Object.freeze({__proto__:null,parseInt:function(e,t=10){return Number.parseInt(e,t)}});var u=Object.freeze({__proto__:null,isInArray:function(e,t){if(!a(e))return t.includes(e)},getIndexInArray:function(e,t){if(!a(e))return t.indexOf(e)},uniqueArray:function(e){if(!a(value))return Array.from(new Set(e))},arrayToTree:function(e,t){let n=[];return list.forEach(e=>{e.pid==t&&(e.children=toTree(list,e.id),n.push(e))}),n}});function l(e){let t=new Map;for(var n of Object.keys(e))t.set(n,e[n]);return t}var s=Object.freeze({__proto__:null,mapToObject:function(e){let t=Object.create(null);for(var[n,r]of e)t[n]=r;return t},objectToMap:l,mapToJson:function(e){return JSON.stringify(this.mapToObject(e))},jsonToMap:function(e){return l(JSON.parse(e))},jsonToString:function(e){return JSON.stringify(e)},stringToJson:function(e){if(!c(e))return JSON.parse(e)},deepClone:function r(o){if(a(o))return null;if(o instanceof Object){let e={};for(var t in o)o.hasOwnProperty(t)&&(e[t]=r(o[t]));return e}if(o instanceof Array){let n=[];for(let e=0,t=o.length;e<t;e++)n[e]=r(o[e]);return n}if(o instanceof Date){let e=new Date;return e.setTime(o.getTime()),e}return o}});var f=Object.freeze({__proto__:null,throttle:function(t,n=2e3){let r=0;return function(){const e=arguments;r=r||setTimeout(()=>{t.apply(this,e),r=0},n)}},debounce:function(t,n,r=!0){let o=0,i=!1;return function(){const e=arguments;clearTimeout(o),o=r?(i||(t.apply(this,e),i=!0),setTimeout(function(){i=!1},n)):setTimeout(function(){t.apply(this,e)},n)}}});function g(e){return(e=e.toString())[1]?e:"0"+e}function d(e=new Date){return e}var p=Object.freeze({__proto__:null,isToday:function(e){if(!c(e)){let t=d(),n=new Date(e.includes("-")?e.replace(/-/g,"/"):e);return["getFullYear","getMonth","getDate"].every(e=>t[e]()===n[e]())}},isLeapYear:function(e){return e%100!=0&&e%4==0||e%400==0},getCurrentDate:d,getDefaultDate:function(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate();return[n,r,o].map(g).join(t)},getDefaultDateTime:function(e=new Date,t="-"){let n=e.getFullYear(),r=e.getMonth()+1,o=e.getDate(),i=e.getHours(),a=e.getMinutes(),u=e.getSeconds();return[n,r,o].map(g).join(t)+" "+[i,a,u].map(g).join(":")},getDefaultTimestamp:function(e=new Date){return e.getTime()},getDefaultUnixTimestamp:function(e=new Date){return Math.round(e/1e3)},formatTimestampToDate:function(e){if(!c(e)&&0!=e)return new Date(e)},formatUnixTimestampToDate:function(e){if(!c(e)&&0!=e)return new Date(1e3*e)},getWeekDay:function(t=new Date,n="zh"){if(!c(t)){let e="";return e=(n&&"zh"==n?new Array("周日","周一","周二","周三","周四","周五","周六"):new Array("7","1","2","3","4","5","6"))[t.getDay()],e}},getYearMonthAllDay:function(e,t){if(!c(e)&&!c(t))return t=this.parseInt(t),new Date(e,t,0).getDate()},getYearMonthAllDayArray:function(e,t){if(!c(e)&&!c(t))return t=this.parseInt(t),Array.from({length:new Date(e,t,0).getDate()},(e,t)=>t+1)},getYearMonthLastDay:function(e,t){if(!c(e)&&!c(t))return t=this.parseInt(t),new Date(e,t,0).getDate()},dateStrToArray:function(e){if(!c(e))return(e=e.replace(/(\-)|(\:)|(\s)|(\/)/g,",")).split(",")},dateTimeStrToArray:function(e){if(!c(e))return(e=e.replace(/(\-)|(\:)|(\s)|(\/)/g,",")).split(",")},getDiffYear:function(e=new Date,t=1){return e.setFullYear(e.getFullYear()+t),e},getDiffMonth:function(e=new Date,t=1){return e.setMonth(e.getMonth()+t),e},getDiffDate:function(e=new Date,t=1){return e.setDate(e.getDate()+t),e},getDiffDateNum:function(e,t){return c(e)||c(t)?0:(t.getTime()-e.getTime())/864e5},getDiffDateStrNum:function(e,t){return c(e)||c(t)?0:(this.formatStrToDate(t).getTime()-this.formatStrToDate(e).getTime())/864e5},getDiffTimestampNum:function(e,t){return c(e)||c(t)?0:(t-e)/864e5},getDiffUnixTimestampNum:function(e,t){return c(e)||c(t)?0:(t-e)/86400},getDiffDateArray:function(e,t){if(c(e)||c(t))return[];let n=[];for(;0<=t.getTime()-e.getTime();){var r=e.getFullYear(),o=g(e.getMonth()+1),i=g(e.getDate());n.push(r+"-"+o+"-"+i),e.setDate(e.getDate()+1)}return n},getDiffDateStrArray:function(e,t){if(c(e)||c(t))return[];let n=[],r=this.formatStrToDate(e),o=this.formatStrToDate(t);for(;0<=o.getTime()-r.getTime();){var i=r.getFullYear(),a=g(r.getMonth()+1),u=g(r.getDate());n.push(i+"-"+a+"-"+u),r.setDate(r.getDate()+1)}return n},formatDateToStr:function(e=new Date,t="yyyy-MM-dd"){var n,r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t},formatStrToDate:function(e){if(!c(e))return new Date(e.replace(/-/g,"/"))},compareDate:function(e,t){if(!c(e)&&!c(t))return e.getTime()>t.getTime()},compareTimestamp:function(e,t){if(!c(e)&&!c(t))return t<e},compareUnixTimestamp:function(e,t){if(!c(e)&&!c(t))return t<e}});const m={CH:/^[\u4E00-\u9FA5]+$/,EN:/^[a-zA-Z]$/,CH_NAME:/^(?:[\u4e00-\u9fa5·]{2,16})$/,EN_NAME:/(^[a-zA-Z][a-zA-Z\s]{0,20}[a-zA-Z]$)/,NUMBER:/^(\-|\+)?\d+(\.\d+)?$/,INTEGER:/^(0|[1-9][0-9]*|-[1-9][0-9]*)$/,INT_OR_FLOAT:/(^[1-9][0-9]*$)|(^[1-9][0-9]*\.[0-9]{1,2}$)|(^0\.[0-9]{1,2}$)|(^0$)/,MOBILE:/^(?:(?:\+|00)86)?1[1-9]\d{9}$/,PHONE:/^(?:(?:\d{3}-)?\d{8}|^(?:\d{4}-)?\d{7,8})(?:-\d+)?$/,EMAIL:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/,ID_CARD:/(^\d{8}(0\d|10|11|12)([0-2]\d|30|31)\d{3}$)|(^\d{6}(18|19|20)\d{2}(0[1-9]|10|11|12)([0-2]\d|30|31)\d{3}(\d|X|x)$)/,BANK_CARD:/^[1-9]\d{9,29}$/,POST_CODE:/^(0[1-7]|1[0-356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[0-5]|8[013-6])\d{4}$/,URL:/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/,IP:/((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))/};var h=Object.freeze({__proto__:null,REGEXP:m,regexpTest:function(e,t){return new RegExp(m[t]).test(e)}});var w=Object.freeze({__proto__:null,add:function(e,t){let n,r,o;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return(e*(o=Math.pow(10,Math.max(n,r)))+t*o)/o},subtract:function(e,t){let n,r,o,i;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return o=Math.pow(10,Math.max(n,r)),i=n>=r?n:r,((e*o-t*o)/o).toFixed(i)},multiply:function(e,t){let n=0,r=e.toString(),o=t.toString();try{n+=r.split(".")[1].length}catch(e){}try{n+=o.split(".")[1].length}catch(e){}return Number(r.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,n)},divide:function(e,t){var n=0,r=0;try{n=e.toString().split(".")[1].length}catch(e){}try{r=t.toString().split(".")[1].length}catch(e){}return Number(e.toString().replace(".",""))/Number(t.toString().replace(".",""))*Math.pow(10,r-n)},toFixed:function(e,o=2){if(i(e))return"--";let t=e+"";if(o=o||0,-1==t.indexOf(".")&&(t+="."),t+=new Array(o+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(o+1)+"})?)\\d*$").test(t)){let e="0"+RegExp.$2,t=RegExp.$1,n=RegExp.$3.length,r=!0;if(n==o+2){if(n=e.match(/\d/g),4<parseInt(n[n.length-1]))for(let e=n.length-2;0<=e&&(n[e]=parseInt(n[e])+1,10==n[e]);e--)n[e]=0,r=1!=e;e=n.join("").replace(new RegExp("(\\d+)(\\d{"+o+"})\\d$"),"$1.$2")}return r&&(e=e.substr(1)),(t+e).replace(/\.$/,"")}return e+""},toDecimalFixed:function(e,n=2){if(i(e))return"--";var r=n,n=Number(e),o=(e=String(n).indexOf(".")+1)?String(n).length-e:0;if(0===e||o<=r){let t=n;if(0===e){t+=".";for(let e=0;e<r-o;e++)t+="0"}else for(let e=0;e<r-o;e++)t+="0";return t}return String(n).split(".")[0]+"."+String(n).split(".")[1].substring(0,r)},toRound:function(e,t=2){return this.isNaN(e)?"--":(t=Math.pow(10,t),Math.round(e*t)/t)},toFloor:function(e,t=2){return this.isNaN(e)?"--":(t=Math.pow(10,t),Math.floor(e*t)/t)}});var S=Object.freeze({__proto__:null,getRandom:function(e=0,t=9){return Math.floor(Math.random()*t+e)},getRandomDigit:function(e=1){return Math.floor((Math.random()+Math.floor(9*Math.random()+1))*Math.pow(10,e-1))},getUUID:function(e=32,t=16){var n,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let o=[],i;if(t=t||r.length,e)for(i=0;i<e;i++)o[i]=r[0|Math.random()*t];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",i=0;i<36;i++)o[i]||(n=0|16*Math.random(),o[i]=r[19==i?3&n|8:n]);return o.join("")},getGUID:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}});var y=Object.freeze({__proto__:null,formatFileSize:function(e){return c(e)?"0B":e<1024?e+"B":e<1048576?(e/1024).toFixed(2)+"KB":e<1073741824?(e/1048576).toFixed(2)+"MB":(e/1073741824).toFixed(2)+"GB"},getFileName:function(e){if(!c(e)&&!c(e))return e.substring(0,e.lastIndexOf("."))},getFileType:function(e){if(!c(e))return e.substring(e.lastIndexOf(".")+1).toLowerCase()},fileToBlob:function(r){return new Promise((t,n)=>{let e=new FileReader;e.readAsArrayBuffer(r),e.onload=e=>{"object"==typeof e.target.result?t(new Blob([e.target.result])):t(e.target.result)},e.onerror=function(e){console.error(e),n(e)}})},fileToBase64:function(r){return new Promise((t,n)=>{let e=new FileReader;e.readAsDataURL(r),e.onload=function(e){t(e.target.result)},e.onerror=function(e){console.error(e),n(e)}})},fileToUrl:function(n){return new Promise((e,t)=>{try{e(URL.createObjectURL(n))}catch(e){console.error(e),t(e)}})},blobToFile:function(o){return new Promise((e,t)=>{try{const r=o.type;var n=Date.now()+"."+r.split("/")[1];e(new File([o],n,{type:r,lastModified:Date.now()}))}catch(e){console.error(e),t(e)}})},blobToBase64:function(r){return new Promise((t,n)=>{let e=new FileReader;e.readAsDataURL(r),e.onload=function(e){t(e.target.result)},e.onerror=function(e){console.error(e),n(e)}})},blobToUrl:function(n){return new Promise((e,t)=>{try{e(URL.createObjectURL(n))}catch(e){console.error(e),t(e)}})},base64ToFile:function(c,l=Date.now()){return new Promise((t,n)=>{try{const o=c.split(","),i=o[0].match(/:(.*?);/)[1];var r=i.split("/")[1];const a=atob(o[1]);let e=a.length;const u=new Uint8Array(e);for(;e--;)u[e]=a.charCodeAt(e);t(new File([u],l+"."+r,{type:i}))}catch(e){console.error(e),n(e)}})},base64ToBlob:function(u){return new Promise((t,n)=>{try{const o=u.split(",");var r=o[0].match(/:(.*?);/)[1];const i=atob(o[1]);let e=i.length;const a=new Uint8Array(e);for(;e--;)a[e]=i.charCodeAt(e);t(new Blob([a],{type:r}))}catch(e){console.error(e),n(e)}})},urlToBase64:function(e){return new Promise((r,t)=>{const o=new Image;o.src=e,o.onload=function(){const e=document.createElement("canvas"),t=e.getContext("2d");e.width=o.width,e.height=o.height,t.drawImage(o,0,0,o.width,o.height);var n=e.toDataURL("image/png");r(n)},o.onerror=function(e){console.error(e),t(e)}})}});var b=Object.freeze({__proto__:null,colorRgbToHex:function(e){let t=e.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",");return"#"+((1<<24)+(parseInt(t[0].split("(")[1])<<16)+(parseInt(t[1])<<8)+parseInt(t[2].split(")")[0])).toString(16).slice(1)},colorHexToRgba:function(e,t=1){return"rgba("+parseInt("0x"+e.slice(1,3))+","+parseInt("0x"+e.slice(3,5))+","+parseInt("0x"+e.slice(5,7))+","+t+")"},getRandomHexColor:function(){return"#"+(e=(16777216*Math.random()<<0).toString(16),new Array(7-e.length).join("0")+e);var e},getRandomRgbColor:function(){return"rgb("+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+","+Math.floor(256*Math.random())+")"}});var D=Object.freeze({__proto__:null,getUrlParam:function(e,t=window.location.search){return e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),null!=(e=t.substr(1).match(e))?decodeURI(e[2]):""},urlToObject:function(e=window.location.href){if(-1===e.indexOf("?"))return{};let t="?"===e[0]?e.substr(1):e.substring(e.lastIndexOf("?")+1);t=t.split("&");let n={};for(let e=0;e<t.length;e++){var r=t[e].split("=");n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]||"")}return n},objectToUrl:function(e){if(!e)return"";let t=[];for(var n in e){var r=e[n];if(r instanceof Array)for(let e=0;e<r.length;++e)t.push(encodeURIComponent(n+"["+e+"]")+"="+encodeURIComponent(r[e]));else t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))}return t.join("&")}});var v=Object.freeze({__proto__:null,setLocalStorage:function(e,t){window.localStorage.setItem(e,t)},getLocalStorage:function(e){return window.localStorage.getItem(e)||""},removeLocalStorage:function(e){window.localStorage.removeItem(e)},clearLocalStorage:function(){window.localStorage.clear()},setSessionStorage:function(e,t){window.sessionStorage.setItem(e,t)},getSessionStorage:function(e){return window.sessionStorage.getItem(e)||""},removeSessionStorage:function(e){window.sessionStorage.removeItem(e)},clearSessionStorage:function(){window.sessionStorage.clear()}});function _(e,t,n){"undefined"!=typeof document&&(document.cookie=e+"="+t+";expires="+new Date(Date.now()+n))}var T=Object.freeze({__proto__:null,getCookie:function(n){if("undefined"!=typeof document&&n){let t=document.cookie?document.cookie.split(";"):[];for(let e=0;e<t[e].length;e++){var r=t[e].split("=");return r[0]==n?decodeURIComponent(r[1]):""}}},setCookie:_,removeCookie:function(e){_(e,"",-1)},clearCookie:function(t=document.domain){var n=document.cookie.match(/[^ =;]+(?=\=)/g);if(n)for(let e=n.length;e--;)document.cookie=n[e]+"=0;path=/;"+t?"domain="+t+";":"expires="+new Date(0).toUTCString()}});function x(e,t){return 0<e.className.indexOf(t)}function O(e,t){x(e,t)||(e.className+=" "+t)}function M(e,t){x(e,t)&&(e.className=e.className.replace(new RegExp(t,"gm"),""))}var A=Object.freeze({__proto__:null,hasClass:x,addClass:O,removeClass:M,replaceClass:function(e,t,n){M(e,n),O(e,t)}});function j(){var e=window.navigator.userAgent;return/Android|webOS|iPhone|iPod|BlackBerry|Windows Phone|IEMobile/i.test(e)}var I=Object.freeze({__proto__:null,getBrowserInfo:function(){let e=window.navigator.userAgent.toLowerCase();var t=e.match(/rv:([\d.]+)\) like gecko/)||e.match(/msie ([\d\.]+)/),n=e.match(/edg\/([\d\.]+)/),r=e.match(/firefox\/([\d\.]+)/),o=e.match(/(?:opera|opr).([\d\.]+)/),i=e.match(/chrome\/([\d\.]+)/),a=e.match(/version\/([\d\.]+).*safari/);return t?{name:"ie",version:t[1]}:n?{name:"edge",version:n[1]}:r?{name:"firefox",version:r[1]}:o?{name:"opera",version:o[1]}:i?{name:"chrome",version:i[1]}:a?{name:"safari",version:a[1]}:"unknown"},isPc:function(){return!j()},isMobile:j,isAndroid:function(){var e=window.navigator.userAgent;return/Android|BlackBerry/i.test(e)},isIos:function(){var e=window.navigator.userAgent;return/iPhone|iPad|iPod|iOS/i.test(e)},isWindowsPhone:function(){var e=window.navigator.userAgent;return/Windows Phone/i.test(e)},isWindows:function(){var e=window.navigator.userAgent;return/win/i.test(e)},isLinux:function(){var e=window.navigator.userAgent;return/linux/i.test(e)},isMac:function(){var e=window.navigator.userAgent;return/mac/i.test(e)},isIphone:function(){var e=window.navigator.userAgent;return/iPhone/i.test(e)},isIpad:function(){var e=window.navigator.userAgent;return/iPod/i.test(e)},isWeixin:function(){var e=window.navigator.userAgent;return/MicroMessenger/i.test(e)},isQQ:function(){var e=window.navigator.userAgent;return/QQ/i.test(e)}});var R=Object.freeze({__proto__:null,setStorage:function(e,t){wx.setStorage({key:e,data:t})},setStorageSync:function(e,t){wx.setStorageSync(e,t)},getStorage:function(e){return wx.getStorage({key:e})||""},getStorageSync:function(e){return wx.getStorageSync(e)||""},removeStorage:function(e){wx.removeStorage({key:e})},removeStorageSync:function(e){wx.removeStorageSync(e)},clearStorage:function(){wx.clearStorageSync()},clearStorageSync:function(){wx.clearStorageSync()}});return{loadedTest:function(){console.log("lime-util loaded successfully!")},...r,...o,...u,...s,...f,...p,...h,...w,...S,...y,...b,...e,...D,...v,...T,...A,...I,...R}});
